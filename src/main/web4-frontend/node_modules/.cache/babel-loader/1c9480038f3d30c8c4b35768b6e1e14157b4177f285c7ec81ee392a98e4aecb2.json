{"ast":null,"code":"import _objectSpread from\"C:/Users/frodo/IdeaProjects/web/web-itmo/web-lab-4/src/main/web4-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/frodo/IdeaProjects/web/web-itmo/web-lab-4/src/main/web4-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useSelector}from\"react-redux\";import{selectCurrentPage,selectSize}from\"../../features/hits/hitsSlice\";import{selectR}from\"../../features/form/chooserSlice\";import{useGetHitsPageQuery,useShootMutation}from\"../../features/hits/hitsApi\";import LoadingGraph from\"../error/LoadingGraph\";import LoadError from\"../error/LoadError\";import{AlertBar}from\"../error/AlertBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Graph=function Graph(_ref){var _ref$width=_ref.width,width=_ref$width===void 0?100:_ref$width,_ref$height=_ref.height,height=_ref$height===void 0?100:_ref$height;var xMax=5;var xMin=-3;var yMax=3;var yMin=-5;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showErrorMessage=_useState2[0],setShowErrorMessage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),rValue=_useState6[0],setRValue=_useState6[1];var clamp=function clamp(value,maxValue,minValue){if(value>=maxValue)return maxValue;if(value<=minValue)return minValue;return value;};var initialState={x1:-10,x2:-10,y1:-10,y2:-10};var _useState7=useState(initialState),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setState=_useState8[1];var page=useSelector(selectCurrentPage);var size=useSelector(selectSize);var r=useSelector(selectR);var _useShootMutation=useShootMutation(),_useShootMutation2=_slicedToArray(_useShootMutation,1),postHit=_useShootMutation2[0];var _useGetHitsPageQuery=useGetHitsPageQuery({page:page,size:size}),data=_useGetHitsPageQuery.data,isLoading=_useGetHitsPageQuery.isLoading,isError=_useGetHitsPageQuery.isError;useEffect(function(){if(r!=null){setRValue(false);}});if(isLoading){return/*#__PURE__*/_jsx(LoadingGraph,{height:height,width:width});}if(isError){return/*#__PURE__*/_jsx(LoadError,{});}var rLabels={wn:r?-r:\"-R\",hn:r?-(r/2):\"-R/2\",wp:r?+r:\"R\",hp:r?r/2:\"R/2\"};var handleMove=function handleMove(event){event=event.nativeEvent;var x=event.offsetX/width*300;var y=event.offsetY/height*300;var yCord=(-y/300+0.5)*3*r;var xCord=Math.round((x/300-0.5)*r*3);xCord=clamp(xCord,xMax,xMin);yCord=clamp(yCord,yMax,yMin);var newState=_objectSpread({},state);if(r){var xGraphCord=(xCord/r/3+0.5)*300;var yGraphCord=(yCord/3/r-0.5)*-300;newState.x1=xGraphCord;newState.x2=xGraphCord;newState.y1=yGraphCord;newState.y2=yGraphCord;}else{newState.y1=y;newState.y2=y;newState.x1=x;newState.x2=x;}setState(newState);};var handleLeave=function handleLeave(){setState(initialState);};var handleClick=function handleClick(event){event=event.nativeEvent;var x=event.offsetX/width*300;var y=event.offsetY/height*300;var xCord=Math.round((x/300-0.5)*r*3);var yCord=Math.round((-y/300+0.5)*3*r*10000)/10000;xCord=clamp(xCord,xMax,xMin);yCord=clamp(yCord,yMax,yMin);var data={x:xCord,y:yCord,r:r};try{if(r==null){setRValue(true);}else{postHit(data);}}catch(err){setErrorMessage(\"Unexpected error occurred\");setShowErrorMessage(true);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"div\",{onMouseMove:handleMove,onMouseLeave:handleLeave,onClick:handleClick,className:\"shadow border border-1 rounded mb-3\",style:{width:width,height:height},children:/*#__PURE__*/_jsxs(\"svg\",{className:\"svg-graph \",style:rValue?{border:\"red solid\",cursor:\"crosshair\"}:{border:\"black\",cursor:\"crosshair\"},viewBox:\"0 0 300 300\",xmlns:\"http://www.w3.org/2000/svg\",children:[\"circle\",/*#__PURE__*/_jsx(\"path\",{className:\"graph-shape\",d:\"M 100 150\\r A 50, 50, 0, 0, 0, 150 200\\r L 150 150\\r Z\",fill:\"#67bd6a\",fillOpacity:\"0.5\"}),/*#__PURE__*/_jsx(\"polygon\",{className:\"graph-shape\",points:\"150,250 150,150 200,150\",fill:\"#67bd6a\",fillOpacity:\"0.5\"}),/*#__PURE__*/_jsx(\"polygon\",{className:\"graph-shape\",points:\"50,150 50,100 150,100 150,150\",fill:\"#67bd6a\",fillOpacity:\"0.5\"}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-axle-text\",x:\"290\",y:\"140\",children:\"x\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-axle-line\",style:{stroke:\"black\"},x1:\"0\",x2:\"295\",y1:\"150\",y2:\"150\"}),/*#__PURE__*/_jsx(\"polygon\",{className:\"graph-axle-arrow\",points:\"299,150 290,155 290,145\"}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-axle-text\",x:\"160\",y:\"10\",children:\"y\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-axle-line\",style:{stroke:\"black\"},x1:\"150\",x2:\"150\",y1:\"5\",y2:\"300\"}),/*#__PURE__*/_jsx(\"polygon\",{className:\"graph-axle-arrow\",points:\"150,1 145,10 155,10\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"50\",x2:\"50\",y1:\"145\",y2:\"155\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"100\",x2:\"100\",y1:\"145\",y2:\"155\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"200\",x2:\"200\",y1:\"145\",y2:\"155\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"250\",x2:\"250\",y1:\"145\",y2:\"155\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"145\",x2:\"155\",y1:\"250\",y2:\"250\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"145\",x2:\"155\",y1:\"200\",y2:\"200\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"145\",x2:\"155\",y1:\"100\",y2:\"100\"}),/*#__PURE__*/_jsx(\"line\",{className:\"graph-point\",style:{stroke:\"black\"},x1:\"145\",x2:\"155\",y1:\"50\",y2:\"50\"}),\"labels\",/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-whole-neg\",textAnchor:\"middle\",x:\"50\",y:\"140\",children:rLabels.wn}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-half-neg\",textAnchor:\"middle\",x:\"100\",y:\"140\",children:rLabels.hn}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-half-pos\",textAnchor:\"middle\",x:\"200\",y:\"140\",children:rLabels.hp}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-whole-pos\",textAnchor:\"middle\",x:\"250\",y:\"140\",children:rLabels.wp}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-whole-neg\",textAnchor:\"start\",x:\"160\",y:\"255\",children:rLabels.wn}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-half-neg\",textAnchor:\"start\",x:\"160\",y:\"205\",children:rLabels.hn}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-half-pos\",textAnchor:\"start\",x:\"160\",y:\"105\",children:rLabels.hp}),/*#__PURE__*/_jsx(\"text\",{className:\"graph-label r-whole-pos\",textAnchor:\"start\",x:\"160\",y:\"55\",children:rLabels.wp}),rValue?/*#__PURE__*/_jsx(\"text\",{stroke:\"#E2195C\",className:\" graph-label r-whole-pos\",textAnchor:\"start\",x:\"0\",y:\"55\",children:\"Please, choose R\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"line\",{style:{stroke:\"black\"},strokeDasharray:\"5,5\",x1:state.x1,x2:state.x2,y1:\"0\",y2:\"300\"}),/*#__PURE__*/_jsx(\"line\",{style:{stroke:\"black\"},strokeDasharray:\"5,5\",x1:\"0\",x2:\"300\",y1:state.y1,y2:state.y2}),data.filter(function(element){return element.r==r;}).map(function(element){return/*#__PURE__*/_jsx(\"circle\",{cx:element.x/element.r*100+150,cy:-element.y/element.r*100+150,r:\"3\",style:element.result?{fill:'#3FE25B'}:{fill:\"#E2195C\"}},element.id);})]})})});};export default Graph;","map":{"version":3,"names":["React","useEffect","useState","useSelector","selectCurrentPage","selectSize","selectR","useGetHitsPageQuery","useShootMutation","LoadingGraph","LoadError","AlertBar","Graph","width","height","xMax","xMin","yMax","yMin","showErrorMessage","setShowErrorMessage","errorMessage","setErrorMessage","rValue","setRValue","clamp","value","maxValue","minValue","initialState","x1","x2","y1","y2","state","setState","page","size","r","postHit","data","isLoading","isError","rLabels","wn","hn","wp","hp","handleMove","event","nativeEvent","x","offsetX","y","offsetY","yCord","xCord","Math","round","newState","xGraphCord","yGraphCord","handleLeave","handleClick","err","border","cursor","stroke","filter","element","map","result","fill","id"],"sources":["C:/Users/frodo/IdeaProjects/web/web-itmo/web-lab-4/src/main/web4-frontend/src/components/graph/Graph.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {selectCurrentPage, selectSize} from \"../../features/hits/hitsSlice\";\r\nimport {selectR} from \"../../features/form/chooserSlice\";\r\nimport {useGetHitsPageQuery, useShootMutation} from \"../../features/hits/hitsApi\";\r\nimport LoadingGraph from \"../error/LoadingGraph\";\r\nimport LoadError from \"../error/LoadError\";\r\nimport {AlertBar} from \"../error/AlertBar\";\r\n\r\nconst Graph = ({width = 100, height = 100}) => {\r\n    const xMax = 5\r\n    const xMin = -3\r\n    const yMax = 3\r\n    const yMin = -5\r\n\r\n    const [showErrorMessage, setShowErrorMessage] = useState(false)\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n    const [rValue, setRValue] =useState(false)\r\n    const clamp = (value, maxValue, minValue) => {\r\n        if (value >= maxValue) return maxValue\r\n        if (value <= minValue) return minValue\r\n        return value\r\n    }\r\n\r\n\r\n    const initialState = {\r\n        x1: -10,\r\n        x2: -10,\r\n        y1: -10,\r\n        y2: -10\r\n    }\r\n\r\n\r\n    const [state, setState] = useState(initialState)\r\n    const page = useSelector(selectCurrentPage)\r\n    const size = useSelector(selectSize)\r\n    const r = useSelector(selectR)\r\n    const [postHit] = useShootMutation()\r\n    let {data, isLoading, isError} = useGetHitsPageQuery({page, size})\r\n\r\n\r\n    useEffect(() => {\r\n        if (r != null) {\r\n            setRValue(false)\r\n        }\r\n    })\r\n\r\n\r\n\r\n    if (isLoading) {\r\n        return <LoadingGraph height={height} width={width} />\r\n    }\r\n    if (isError) {\r\n        return <LoadError />\r\n    }\r\n\r\n\r\n\r\n    const rLabels = {\r\n        wn: r ? -r : \"-R\",\r\n        hn: r ? -(r / 2) : \"-R/2\",\r\n        wp: r ? +r: \"R\",\r\n        hp: r ? r / 2 : \"R/2\"\r\n    }\r\n\r\n    const handleMove = (event) => {\r\n        event = event.nativeEvent\r\n        let x = (event.offsetX / width * 300)\r\n        let y = event.offsetY / height * 300\r\n        let yCord = ((-y / 300) + 0.5) * 3 * r\r\n        let xCord = Math.round((x / 300 - 0.5) * r * 3)\r\n        xCord = clamp(xCord, xMax, xMin)\r\n        yCord = clamp(yCord, yMax, yMin)\r\n        let newState = {...state}\r\n\r\n        if (r) {\r\n            const xGraphCord = (xCord / r / 3 + 0.5) * 300\r\n            const yGraphCord = ((yCord / 3 / r) - 0.5) * -300\r\n            newState.x1 = xGraphCord\r\n            newState.x2 = xGraphCord\r\n            newState.y1 = yGraphCord\r\n            newState.y2 = yGraphCord\r\n        } else {\r\n            newState.y1 = y\r\n            newState.y2 = y\r\n            newState.x1 = x\r\n            newState.x2 = x\r\n        }\r\n        setState(newState)\r\n    }\r\n    const handleLeave = () => {\r\n        setState(initialState)\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        event = event.nativeEvent\r\n\r\n        let x = (event.offsetX / width * 300)\r\n        let y = event.offsetY / height * 300\r\n        let xCord = Math.round((x / 300 - 0.5) * r * 3)\r\n        let yCord = Math.round(((-y / 300) + 0.5) * 3 * r * 10000) / 10000\r\n\r\n        xCord = clamp(xCord, xMax, xMin)\r\n        yCord = clamp(yCord, yMax, yMin)\r\n\r\n        let data = {x: xCord, y: yCord, r: r}\r\n        try {\r\n            if (r == null) {\r\n                setRValue(true);\r\n            } else {\r\n                postHit(data)\r\n            }\r\n        } catch (err) {\r\n            setErrorMessage(\"Unexpected error occurred\")\r\n            setShowErrorMessage(true)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"flex\">\r\n        <div\r\n            onMouseMove={handleMove}\r\n            onMouseLeave={handleLeave}\r\n            onClick={handleClick}\r\n            className=\"shadow border border-1 rounded mb-3\"\r\n            style={{width, height}}\r\n        >\r\n            <svg className=\"svg-graph \" style={rValue?{border: \"red solid\", cursor: \"crosshair\"}:{border: \"black\",  cursor: \"crosshair\" }}  viewBox=\"0 0 300 300\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                circle\r\n\r\n                <path className=\"graph-shape\" d=\"M 100 150\r\n                  A 50, 50, 0, 0, 0, 150 200\r\n                  L 150 150\r\n                  Z\" fill=\"#67bd6a\" fillOpacity=\"0.5\"/>\r\n\r\n                <polygon className=\"graph-shape\" points=\"150,250 150,150 200,150\" fill=\"#67bd6a\" fillOpacity=\"0.5\"/>\r\n\r\n                <polygon className=\"graph-shape\" points=\"50,150 50,100 150,100 150,150\" fill=\"#67bd6a\"\r\n                         fillOpacity=\"0.5\"/>\r\n\r\n                <text className=\"graph-axle-text\" x=\"290\" y=\"140\">x</text>\r\n                <line className=\"graph-axle-line\" style={{stroke: \"black\"}}  x1=\"0\" x2=\"295\" y1=\"150\" y2=\"150\"/>\r\n                <polygon className=\"graph-axle-arrow\" points=\"299,150 290,155 290,145\"/>\r\n\r\n                <text className=\"graph-axle-text\" x=\"160\" y=\"10\">y</text>\r\n                <line className=\"graph-axle-line\" style={{stroke: \"black\"}} x1=\"150\" x2=\"150\" y1=\"5\" y2=\"300\"/>\r\n                <polygon className=\"graph-axle-arrow\" points=\"150,1 145,10 155,10\"/>\r\n\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}}  x1=\"50\" x2=\"50\" y1=\"145\" y2=\"155\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"100\" x2=\"100\" y1=\"145\" y2=\"155\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"200\" x2=\"200\" y1=\"145\" y2=\"155\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"250\" x2=\"250\" y1=\"145\" y2=\"155\"/>\r\n\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"145\" x2=\"155\" y1=\"250\" y2=\"250\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"145\" x2=\"155\" y1=\"200\" y2=\"200\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}}  x1=\"145\" x2=\"155\" y1=\"100\" y2=\"100\"/>\r\n                <line className=\"graph-point\" style={{stroke: \"black\"}} x1=\"145\" x2=\"155\" y1=\"50\" y2=\"50\"/>\r\n\r\n                labels\r\n                <text className=\"graph-label r-whole-neg\" textAnchor=\"middle\" x=\"50\" y=\"140\">{rLabels.wn}</text>\r\n                <text className=\"graph-label r-half-neg\" textAnchor=\"middle\" x=\"100\" y=\"140\">{rLabels.hn}</text>\r\n                <text className=\"graph-label r-half-pos\" textAnchor=\"middle\" x=\"200\" y=\"140\">{rLabels.hp}</text>\r\n                <text className=\"graph-label r-whole-pos\" textAnchor=\"middle\" x=\"250\" y=\"140\">{rLabels.wp}</text>\r\n\r\n                <text className=\"graph-label r-whole-neg\" textAnchor=\"start\" x=\"160\" y=\"255\">{rLabels.wn}</text>\r\n                <text className=\"graph-label r-half-neg\" textAnchor=\"start\" x=\"160\" y=\"205\">{rLabels.hn}</text>\r\n                <text className=\"graph-label r-half-pos\" textAnchor=\"start\" x=\"160\" y=\"105\">{rLabels.hp}</text>\r\n                <text className=\"graph-label r-whole-pos\" textAnchor=\"start\" x=\"160\" y=\"55\">{rLabels.wp}</text>\r\n                {rValue?    <text stroke=\"#E2195C\" className=\" graph-label r-whole-pos\" textAnchor=\"start\" x=\"0\" y=\"55\">Please, choose R</text>:<></>}\r\n\r\n                <line style={{stroke: \"black\"}}\r\n                      strokeDasharray=\"5,5\"\r\n                      x1={state.x1}\r\n                      x2={state.x2}\r\n                      y1=\"0\"\r\n                      y2=\"300\">\r\n                </line>\r\n\r\n\r\n                <line style={{stroke: \"black\"}}\r\n                      strokeDasharray=\"5,5\"\r\n                      x1=\"0\"\r\n                      x2=\"300\"\r\n                      y1={state.y1}\r\n                      y2={state.y2}>\r\n                </line>\r\n\r\n                {\r\n                    data.filter(element => element.r == r).map(element => (\r\n                        <circle key={element.id}\r\n                                cx={element.x / element.r * 100 + 150}\r\n                                cy={-element.y / element.r * 100 + 150}\r\n                                r=\"3\"\r\n                                style={element.result?{fill: '#3FE25B'}:{fill: \"#E2195C\"}}\r\n                        />\r\n                    ))\r\n                }\r\n\r\n\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Graph;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}